/*!
 * Trade 组件样式（阶段5：业务组件分文件）
 * 作用域限定：.guixu-root-container #trade-modal
 * 目标：
 * - 从 guixu.css 迁移交易面板相关样式，集中到组件文件
 * - 保持与现有视觉一致，可回滚（legacy 仍保留）
 */

/* 概览与网格 */
.guixu-root-container #trade-modal .trade-summary {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 12px;
}
.guixu-root-container #trade-modal .inventory-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.guixu-root-container #trade-modal .trade-section {
  border: 1px solid rgba(201,170,113,0.3);
  border-radius: 6px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
}

/* 列表项（简版） */
.guixu-root-container #trade-modal .trade-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 6px 0;
  border-bottom: 1px dashed rgba(201,170,113,0.2);
}
.guixu-root-container #trade-modal .trade-item:last-child {
  border-bottom: none;
}
.guixu-root-container #trade-modal .trade-item .item-name {
  color: #e0dcd1;
}
.guixu-root-container #trade-modal .trade-item .item-meta {
  color: #8b7355;
  font-size: 12px;
  white-space: nowrap;
}
.guixu-root-container #trade-modal .btn-purchase-item,
.guixu-root-container #trade-modal .btn-sell-item {
  height: 26px;
  padding: 0 10px;
  border: 1px solid #daa520;
  border-radius: 4px;
  background: linear-gradient(45deg, #8b4513, #cd853f);
  color: #fff;
  cursor: pointer;
}

/* ================= 交易面板：单列表表格与工具栏 ================= */
.guixu-root-container #trade-modal .trade-toolbar {
  display: inline-flex;
  gap: 8px;
  margin: 6px 0 10px;
  flex-wrap: wrap;
}
.guixu-root-container #trade-modal .trade-toolbar .interaction-btn.active {
  background: linear-gradient(45deg, #8b4513, #cd853f);
  border-color: #daa520;
  color: #fff;
}

.guixu-root-container #trade-modal .trade-table-wrapper {
  position: relative;
  overflow-x: auto;
  overflow-y: hidden;
  border: 1px solid rgba(201,170,113,0.2);
  border-radius: 6px;
  background: rgba(0,0,0,0.15);
}

.guixu-root-container #trade-modal .trade-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;     /* 固定列宽，避免因内容过长挤压布局 */
  min-width: 720px;        /* 小屏允许横向滚动 */
}
.guixu-root-container #trade-modal .trade-table thead th,
.guixu-root-container #trade-modal .trade-table tbody td {
  padding: 6px 8px;
  border-bottom: 1px solid rgba(201,170,113,0.15);
  font-size: 12px;
  white-space: nowrap;     /* 禁止换行，避免“挤下一列” */
  vertical-align: middle;  /* 垂直居中，避免视觉错位 */
}
.guixu-root-container #trade-modal .trade-table thead th {
  position: sticky;
  top: 0;
  background: rgba(26,26,46,0.9);
  color: #c9aa71;
  cursor: pointer;
}
.guixu-root-container #trade-modal .trade-table thead th:last-child { cursor: default; } /* 操作列不排序 */
.guixu-root-container #trade-modal .trade-table tbody tr:hover {
  background: rgba(201,170,113,0.06);
}

/* 列宽与对齐：名称列省略号，数值列右对齐 */
.guixu-root-container #trade-modal .trade-table td:nth-child(1) { max-width: 200px; overflow: hidden; text-overflow: ellipsis; }
.guixu-root-container #trade-modal .trade-table td:nth-child(2) { width: 72px; }
.guixu-root-container #trade-modal .trade-table td:nth-child(3) { width: 64px; text-align: right; }
.guixu-root-container #trade-modal .trade-table td:nth-child(4),
.guixu-root-container #trade-modal .trade-table td:nth-child(5),
.guixu-root-container #trade-modal .trade-table td:nth-child(6) { width: 100px; text-align: right; }

/* 操作列（购买/出售）统一宽度并居中对齐（表头与单元格一致） */
.guixu-root-container #trade-modal .trade-table td:nth-child(7),
.guixu-root-container #trade-modal .trade-table th:nth-child(7) { width: 88px; text-align: center; }

/* 表头与单元格左右对齐策略，保证“上下一致对齐” */
.guixu-root-container #trade-modal .trade-table thead th:nth-child(1),
.guixu-root-container #trade-modal .trade-table thead th:nth-child(2) { text-align: left; }
.guixu-root-container #trade-modal .trade-table thead th:nth-child(3),
.guixu-root-container #trade-modal .trade-table thead th:nth-child(4),
.guixu-root-container #trade-modal .trade-table thead th:nth-child(5),
.guixu-root-container #trade-modal .trade-table thead th:nth-child(6) { text-align: right; }
.guixu-root-container #trade-modal .trade-table thead th:nth-child(7) { text-align: center; }

.guixu-root-container #trade-modal .trade-table tbody td:nth-child(1),
.guixu-root-container #trade-modal .trade-table tbody td:nth-child(2) { text-align: left; }
.guixu-root-container #trade-modal .trade-table tbody td:nth-child(3),
.guixu-root-container #trade-modal .trade-table tbody td:nth-child(4),
.guixu-root-container #trade-modal .trade-table tbody td:nth-child(5),
.guixu-root-container #trade-modal .trade-table tbody td:nth-child(6) { text-align: right; }
.guixu-root-container #trade-modal .trade-table tbody td:nth-child(7) { text-align: center; }

.guixu-root-container #trade-modal .trade-table .item-name {
  color: #e0dcd1;
  display: inline-block;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  vertical-align: middle;
}
.guixu-root-container #trade-modal .trade-table .btn-purchase-item,
.guixu-root-container #trade-modal .trade-table .btn-sell-item {
  height: 24px;
  padding: 0 8px;
}

/* 交互与提示（作用域：.guixu-root-container #trade-modal） */
.guixu-root-container #trade-modal .item-clickable {
  cursor: pointer;
  text-decoration: none;
  border-bottom: 1px dashed transparent;
  transition: border-color .15s ease, text-shadow .15s ease;
}
.guixu-root-container #trade-modal .item-clickable:hover {
  border-bottom-color: rgba(201,170,113,0.45);
  text-shadow: 0 0 6px rgba(201,170,113,0.25);
}

.guixu-root-container #trade-modal #trade-currency-tip {
  margin: 6px 0 10px;
  color: #8b7355;
  font-size: 12px;
  line-height: 1.4;
}

.guixu-root-container #trade-modal .trade-tip {
  margin-top: 10px;
  color: #8b7355;
  font-size: 12px;
}

.guixu-root-container #trade-modal .trade-batch-fix {
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px dashed rgba(201,170,113,0.2);
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.guixu-root-container #trade-modal .trade-tip-sub {
  margin: 4px 0 0;
  color: #9a8f7a;
  font-size: 12px;
}

/* 移动端兜底：缩小名称列，允许横向滚动 */
@media (max-width: 900px) {
  .guixu-root-container #trade-modal .trade-table { min-width: 680px; }
  .guixu-root-container #trade-modal .trade-table td:nth-child(1) { max-width: 140px; }
}
