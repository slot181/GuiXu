/*!
 * settings.css（阶段5）
 * 作用域：.guixu-root-container #settings-modal
 * 目标：
 * - 移除 settings 相关内联样式，统一用类与作用域选择器
 * - 覆盖并收拢 guixu.css 中 #settings-modal 相关规则，便于后续灰度删除
 */

/* 作用域根 */
.guixu-root-container #settings-modal .attributes-list {
  padding: 10px;
}

/* 基本表单行：对齐与间距 */
.guixu-root-container #settings-modal .attribute-item {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: nowrap;
}
.guixu-root-container #settings-modal .attribute-name {
  color: var(--gx-color-text-muted, #8b7355);
  font-size: 12px;
}
/* 常用宽度修饰 */
.guixu-root-container #settings-modal .attr-name--min70 { min-width: 70px; }
.guixu-root-container #settings-modal .attr-name--min90 { min-width: 90px; }
.guixu-root-container #settings-modal .minw-120 { min-width: 120px; }

/* 颜色选择器统一尺寸与风格 */
.guixu-root-container #settings-modal input[type="color"] {
  width: 44px;
  height: 28px;
  padding: 0;
  background: transparent;
  border: 1px solid #8b7355;
  border-radius: 4px;
  box-sizing: border-box;
}

/* 预览框（背景） */
.guixu-root-container #settings-modal .bg-preview {
  width: 100%;
  min-height: 120px;
  background: rgba(0,0,0,0.3);
  border: 1px solid #8b7355;
  border-radius: 4px;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-image: var(--gx-bg-preview-image, none);
}

/* 背景库下拉与动作按钮布局限制（避免挤压） */
.guixu-root-container #settings-modal .attributes-list .attribute-item {
  flex-wrap: nowrap;
}
.guixu-root-container #settings-modal #pref-bg-select {
  flex: 1 1 auto;
  min-width: 160px;
  max-width: 50%;
}
.guixu-root-container #settings-modal #pref-bg-upload,
.guixu-root-container #settings-modal #pref-bg-delete,
.guixu-root-container #settings-modal #pref-bg-clear {
  white-space: nowrap;
  flex: 0 0 auto;
}
/* 设置中心按钮统一尺寸（桌面端） */
.guixu-root-container #settings-modal .attributes-list .interaction-btn,
.guixu-root-container #settings-modal .attributes-list .danger-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 90px;
  height: 32px !important;
  padding: 0 12px !important;
  font-size: 12px;
  line-height: normal !important;
  white-space: nowrap;
  box-sizing: border-box;
}

/* 页脚与按钮排布（沿用 command-center-footer 样式语义） */
.guixu-root-container #settings-modal .command-center-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-top: auto;
  padding-top: 15px;
  border-top: 1px solid rgba(201, 170, 113, 0.5);
  flex-wrap: nowrap;
}
.guixu-root-container #settings-modal .command-center-footer > div {
  display: inline-flex;
  gap: 10px;
  align-items: center;
  flex-shrink: 0;
}
.guixu-root-container #settings-modal .command-center-footer button {
  white-space: nowrap;
}

/* Info 提示：问号图标与提示浮层（替代 JS 注入内联样式） */
.guixu-root-container .info-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-left: 8px;
  width: 18px;
  height: 18px;
  border: 1px solid #8b7355;
  border-radius: 50%;
  color: #c9aa71;
  font-weight: 700;
  font-size: 12px;
  cursor: pointer;
  user-select: none;
}
.guixu-root-container #guixu-info-tooltip {
  position: fixed;
  z-index: 10070;
  max-width: 260px;
  padding: 8px 10px;
  background: rgba(15,15,35,0.96);
  color: #e0dcd1;
  border: 1px solid #8b7355;
  border-radius: 6px;
  font-size: 12px;
  line-height: 1.5;
  display: none;
  box-shadow: 0 6px 16px rgba(0,0,0,0.45);
}
.guixu-root-container #guixu-info-tooltip.is-open { display: block; }

/* 移动端-设置中心 浮窗尺寸与布局优化（不影响桌面） */
.guixu-root-container.mobile-view #settings-modal .modal-content {
  width: 96vw;
  max-width: 96vw;
  height: auto;
  max-height: 90vh;
  overflow-x: hidden;
}
.guixu-root-container.mobile-view #settings-modal .modal-body {
  overflow-y: auto;
}
.guixu-root-container.mobile-view #settings-modal .modal-header {
  flex-wrap: wrap;
  gap: 8px;
}
.guixu-root-container.mobile-view #settings-modal .attributes-list .attribute-item {
  flex-wrap: wrap !important;
  gap: 6px !important;
}
.guixu-root-container.mobile-view #settings-modal #pref-bg-select {
  flex: 1 1 100% !important;
  min-width: 0 !important;
  max-width: 100% !important;
}
.guixu-root-container.mobile-view #settings-modal #pref-bg-upload,
.guixu-root-container.mobile-view #settings-modal #pref-bg-delete,
.guixu-root-container.mobile-view #settings-modal #pref-bg-clear {
  flex: 1 1 calc(33% - 6px) !important;
  min-width: 0 !important;
}

/* 移动端-设置中心：按钮尺寸与页脚布局优化 */
.guixu-root-container.mobile-view #settings-modal .attributes-list .interaction-btn,
.guixu-root-container.mobile-view #settings-modal .attributes-list .danger-btn {
  min-width: 0 !important;
  height: 34px !important;
  padding: 0 10px !important;
  flex: 1 1 auto !important;
  box-sizing: border-box !important;
}
.guixu-root-container.mobile-view #settings-modal .command-center-footer {
  flex-wrap: wrap !important;
  gap: 8px !important;
}
.guixu-root-container.mobile-view #settings-modal #pref-reset-defaults {
  flex: 1 1 100% !important;
  height: 36px !important;
}
.guixu-root-container.mobile-view #settings-modal .command-center-footer > div {
  width: 100% !important;
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 8px !important;
}
.guixu-root-container.mobile-view #settings-modal .command-center-footer > div > button {
  width: 100% !important;
  height: 36px !important;
  min-width: 0 !important;
  padding: 0 10px !important;
  box-sizing: border-box !important;
}

/* 设置中心：输入与选择统一视觉（不改布局，仅接管视觉） */
.guixu-root-container #settings-modal input[type="text"],
.guixu-root-container #settings-modal input[type="number"],
.guixu-root-container #settings-modal input[type="search"],
.guixu-root-container #settings-modal select {
  height: var(--gx-input-height, 32px) !important;
  padding: 0 10px !important;
  background: var(--gx-input-bg, rgba(26,26,46,0.5)) !important;
  border: 1px solid var(--gx-input-border-color, rgba(201,170,113,0.35)) !important;
  border-radius: var(--gx-input-radius, 8px) !important;
  color: var(--gx-input-color, #e8e3d6) !important;
  font-size: 12px !important;
  outline: none !important;
  box-sizing: border-box !important;
}
.guixu-root-container #settings-modal input::placeholder {
  color: var(--gx-placeholder-color, #8b7355);
}
.guixu-root-container #settings-modal input[type="text"]:hover,
.guixu-root-container #settings-modal input[type="number"]:hover,
.guixu-root-container #settings-modal input[type="search"]:hover,
.guixu-root-container #settings-modal select:hover {
  background: var(--gx-input-bg-hover, rgba(26,26,46,0.6));
  border-color: var(--gx-input-border-color-hover, rgba(201,170,113,0.45));
}
.guixu-root-container #settings-modal input[type="text"]:focus,
.guixu-root-container #settings-modal input[type="number"]:focus,
.guixu-root-container #settings-modal input[type="search"]:focus,
.guixu-root-container #settings-modal select:focus {
  background: var(--gx-input-bg-focus, rgba(26,26,46,0.65));
  border-color: var(--gx-input-border-color-focus, rgba(201,170,113,0.65));
  box-shadow: var(--gx-input-shadow-focus, 0 0 0 2px rgba(201,170,113,0.12));
  outline: none;
}
