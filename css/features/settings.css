/* Phase 2 - features/settings.css
   设置中心（#settings-modal）专属样式；从 css/guixu.css 迁移
   保留原选择器以避免特异性变化；仅承载设置中心个性化与布局规则
*/

/* 背景预览框样式（用于设置中心） */
.bg-preview {
  min-height: 120px;
  background: rgba(0,0,0,0.3);
  border: 1px solid #8b7355;
  border-radius: 4px;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* 设置中心：背景库路径（下拉）限制宽度，避免挤压按钮 */
#settings-modal .attributes-list .attribute-item {
  flex-wrap: nowrap;
}
#settings-modal #pref-bg-select {
  flex: 1 1 auto;
  min-width: 160px;
  max-width: 50%;
}
#settings-modal #pref-bg-upload,
#settings-modal #pref-bg-delete,
#settings-modal #pref-bg-clear {
  white-space: nowrap;
  flex: 0 0 auto;
}
/* 设置中心按钮统一尺寸，保证4字中文完整显示且与 danger 样式等宽等高 */
#settings-modal .attributes-list .interaction-btn,
#settings-modal .attributes-list .danger-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 90px;
  height: 32px !important;      /* 强制统一高度，修复“删除背景”偏小 */
  padding: 0 12px !important;   /* 覆盖行内 padding */
  font-size: 12px;
  line-height: normal !important; /* 放宽行高，避免中文被上下裁切，视觉高度与邻居一致 */
  white-space: nowrap;
  box-sizing: border-box;
}

/* 移动端-设置中心 浮窗尺寸与布局修复（不影响桌面） */
.guixu-root-container.mobile-view #settings-modal .modal-content {
  width: 96vw;
  max-width: 96vw;
  height: auto;
  max-height: 90vh;
  overflow-x: hidden;
}
.guixu-root-container.mobile-view #settings-modal .modal-body {
  overflow-y: auto;
}
.guixu-root-container.mobile-view #settings-modal .modal-header {
  flex-wrap: wrap;
  gap: 8px;
}
.guixu-root-container.mobile-view #settings-modal .attributes-list .attribute-item {
  flex-wrap: wrap !important;
  gap: 6px !important;
}
.guixu-root-container.mobile-view #settings-modal #pref-bg-select {
  flex: 1 1 100% !important;
  min-width: 0 !important;
  max-width: 100% !important;
}
.guixu-root-container.mobile-view #settings-modal #pref-bg-upload,
.guixu-root-container.mobile-view #settings-modal #pref-bg-delete,
.guixu-root-container.mobile-view #settings-modal #pref-bg-clear {
  flex: 1 1 calc(33% - 6px) !important;
  min-width: 0 !important;
}

/* 移动端-设置中心：按钮尺寸与页脚布局优化，防止超出浮窗 */
.guixu-root-container.mobile-view #settings-modal .attributes-list .interaction-btn,
.guixu-root-container.mobile-view #settings-modal .attributes-list .danger-btn {
  min-width: 0 !important;
  height: 34px !important;
  padding: 0 10px !important;
  flex: 1 1 auto !important;
  box-sizing: border-box !important;
}
/* 设置中心页脚：上方“恢复默认”独占一行，下面“应用/保存并关闭”双列并排 */
.guixu-root-container.mobile-view #settings-modal .command-center-footer {
  flex-wrap: wrap !important;
  gap: 8px !important;
}
.guixu-root-container.mobile-view #settings-modal #pref-reset-defaults {
  flex: 1 1 100% !important;
  height: 36px !important;
}
.guixu-root-container.mobile-view #settings-modal .command-center-footer > div {
  width: 100% !important;
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 8px !important;
}
.guixu-root-container.mobile-view #settings-modal .command-center-footer > div > button {
  width: 100% !important;
  height: 36px !important;
  min-width: 0 !important;
  padding: 0 10px !important;
  box-sizing: border-box !important;
}

/* 设置中心输入与选择：统一为全局风格（不改布局，仅接管视觉） */
.guixu-root-container #settings-modal input[type="text"],
.guixu-root-container #settings-modal input[type="number"],
.guixu-root-container #settings-modal input[type="search"],
.guixu-root-container #settings-modal select {
  height: var(--gx-input-height, 32px) !important;
  padding: 0 10px !important;
  background: var(--gx-input-bg, rgba(26,26,46,0.5)) !important;
  border: 1px solid var(--gx-input-border-color, rgba(201,170,113,0.35)) !important;
  border-radius: var(--gx-input-radius, 8px) !important;
  color: var(--gx-input-color, #e8e3d6) !important;
  font-size: 12px !important;
  outline: none !important;
  box-sizing: border-box !important;
}
.guixu-root-container #settings-modal input::placeholder {
  color: var(--gx-placeholder-color, #8b7355);
}
.guixu-root-container #settings-modal input[type="text"]:hover,
.guixu-root-container #settings-modal input[type="number"]:hover,
.guixu-root-container #settings-modal input[type="search"]:hover,
.guixu-root-container #settings-modal select:hover {
  background: var(--gx-input-bg-hover, rgba(26,26,46,0.6));
  border-color: var(--gx-input-border-color-hover, rgba(201,170,113,0.45));
}
.guixu-root-container #settings-modal input[type="text"]:focus,
.guixu-root-container #settings-modal input[type="number"]:focus,
.guixu-root-container #settings-modal input[type="search"]:focus,
.guixu-root-container #settings-modal select:focus {
  background: var(--gx-input-bg-focus, rgba(26,26,46,0.65));
  border-color: var(--gx-input-border-color-focus, rgba(201,170,113,0.65));
  box-shadow: var(--gx-input-shadow-focus, 0 0 0 2px rgba(201,170,113,0.12));
  outline: none;
}
